# Prodigy - Digital Workspace Application

Prodigy is an intelligent digital workspace application with React/Vue.js frontend, ASP.NET Core Web API backend, and Azure Functions for business logic. Currently in planning/documentation phase.

**ALWAYS** reference these instructions first and fallback to search or bash commands only when you encounter unexpected information that does not match the info here.

## Current Repository State

**CRITICAL**: The repository currently contains only documentation and planning files. No actual project code exists yet. All build commands in the GitHub workflow will fail until project structure is created.

### What Exists:
- README.md with architecture documentation
- .github/workflows/copilot-setup-steps.yml (will fail - no projects exist)
- This instructions file

### What Does NOT Exist:
- No .NET project files (.csproj, .sln)
- No package.json or Node.js frontend
- No src/ directories
- No Azure Functions projects

## Working Effectively

### Prerequisites and Tool Validation
Run these commands to verify your environment:

```bash
# Check .NET SDK (required: 8.0+)
dotnet --version  # Should show 8.0.413 or newer

# Check Node.js (required for frontend when created)
node --version    # Should show v20.19.4 or newer
npm --version     # Should show 10.8.2 or newer

# Check Azure CLI (required for Azure Functions)
az --version      # Should show 2.75.0 or newer
```

### Current Build Status
- `dotnet restore` -- **FAILS**: No project files exist
- `dotnet build` -- **FAILS**: No project files exist  
- `npm install` -- **FAILS**: No package.json exists
- GitHub workflow (.github/workflows/copilot-setup-steps.yml) -- **FAILS**: References non-existent projects

### Creating Project Structure (When Development Begins)

**NEVER CANCEL these commands - they take significant time:**

#### 1. Create ASP.NET Core Web API Backend
```bash
# Create backend API project (takes ~2-8 seconds)
mkdir -p src/backend
cd src/backend
dotnet new webapi
dotnet build  # Takes ~3 seconds
```

#### 2. Create React TypeScript Frontend  
```bash
# Create React frontend with TypeScript (takes ~7 minutes - NEVER CANCEL)
# Set timeout to 10+ minutes
mkdir -p src/frontend
cd src/frontend
npx create-react-app . --template typescript

# Build frontend (takes ~8 seconds after npm install)
npm run build

# Run tests (takes ~3 seconds)
npm test -- --coverage --no-watch
```

#### 3. Create Azure Functions Project
```bash
# Install Azure Functions Core Tools (may fail due to network restrictions)
npm install -g azure-functions-core-tools@4 --unsafe-perm true
# If installation fails, document: "Azure Functions Core Tools installation fails due to network limitations"

# Create Functions project
mkdir -p azure-functions
cd azure-functions
func init . --dotnet
func new --name EmailFunctions --template HttpTrigger
```

### Build Times and Timeouts

**CRITICAL - NEVER CANCEL these operations:**

- React app creation: **7 minutes** - Set timeout to 10+ minutes
- React build: **8 seconds** - Usually completes quickly  
- React tests: **3 seconds** - Usually completes quickly
- .NET project creation: **2-8 seconds** - Usually completes quickly
- .NET build: **3 seconds** - Usually completes quickly
- .NET restore: **1-6 seconds** - Usually completes quickly

## Validation Scenarios

When project structure exists, ALWAYS test these scenarios after making changes:

### Frontend Validation
```bash
cd src/frontend
npm start  # Starts development server
# Manually test: Navigate to http://localhost:3000
# Verify: App loads and displays "React App" title
# Take screenshot to confirm UI is working
# Expected: Development server starts in ~10 seconds
```

### Backend API Validation  
```bash
cd src/backend
dotnet run  # Starts API server (displays actual URL like http://localhost:5233)
# Manually test: Navigate to displayed URL + /WeatherForecast 
# Example: http://localhost:5233/WeatherForecast
# Verify: Returns JSON weather data array
# Note: Default template doesn't include Swagger UI - check WeatherForecast endpoint instead
```

### Integration Validation
When both frontend and backend exist:
1. Start backend API first
2. Start frontend development server  
3. Test API calls from frontend to backend
4. Verify CORS configuration allows frontend-backend communication

## Expected Project Structure (When Created)

```
/prodigy
  /src
    /frontend/           # React TypeScript app
      package.json
      src/
      public/
      build/            # Generated by npm run build
    /backend/            # ASP.NET Core Web API
      *.csproj
      Controllers/
      Models/
      Program.cs
  /azure-functions/      # Azure Functions project
    *.csproj
    EmailFunctions.cs
    TaskFunctions.cs
    host.json
    local.settings.json
  /.github/
    /workflows/
      copilot-setup-steps.yml
  README.md
```

## Development Workflow

### Starting Development
1. **Create project structure** (see commands above)
2. **Install dependencies:**
   ```bash
   # Backend
   cd src/backend && dotnet restore
   
   # Frontend  
   cd src/frontend && npm install
   
   # Azure Functions
   cd azure-functions && dotnet restore
   ```

3. **Build everything:**
   ```bash
   # Backend (takes ~4 seconds)
   cd src/backend && dotnet build
   
   # Frontend (takes ~8 seconds)  
   cd src/frontend && npm run build
   
   # Azure Functions (takes ~4 seconds)
   cd azure-functions && dotnet build
   ```

### Testing and Validation
```bash
# Frontend tests
cd src/frontend && npm test

# Backend tests (when test projects exist)
cd src/backend && dotnet test

# Linting (when configured)
cd src/frontend && npm run lint
```

## External Integrations

The application is designed to integrate with:
- **Microsoft Graph API** (mail, tasks, calendar) - Requires OAuth setup
- **LinkedIn API** (notifications, connections) - Requires OAuth setup  
- **GitHub REST API** (issues) - Requires OAuth setup

Authentication tokens will be managed through environment variables and Azure Key Vault.

## Common Issues and Solutions

### "No project files found" errors
- **Cause**: Repository is in documentation phase
- **Solution**: Create project structure first (see commands above)

### Azure Functions Core Tools installation fails
- **Cause**: Network restrictions in build environment
- **Solution**: Document limitation and proceed with other development

### React app creation takes very long
- **Expected**: 7+ minutes is normal for initial setup
- **Action**: NEVER CANCEL - wait for completion

## Security Notes

- Never commit secrets, API keys, or OAuth tokens
- Use environment variables for all configuration
- Store sensitive data in Azure Key Vault
- Configure CORS properly for frontend-backend communication

## Architecture Documentation

Refer to README.md for:
- Detailed feature requirements
- API contract examples
- Integration specifications
- Security requirements

## Validation Commands Summary

```bash
# Environment check
dotnet --version && node --version && npm --version && az --version

# When projects exist - full build and test cycle
cd src/backend && dotnet restore && dotnet build && dotnet test
cd src/frontend && npm install && npm run build && npm test
cd azure-functions && dotnet restore && dotnet build

# Development servers
cd src/backend && dotnet run     # API server
cd src/frontend && npm start    # Frontend dev server
```

**Remember**: Always run manual validation scenarios and take screenshots of running applications to verify functionality.